(this.webpackJsonp=this.webpackJsonp||[]).push([[4],{3863:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(168),n=r(66),o=r(3908);function s(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c=s(i),a=s(o);function u(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{a(i.next(e))}catch(t){o(t)}}function c(e){try{a(i.throw(e))}catch(t){o(t)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))}var d,l={exports:{}},h="object"===typeof Reflect?Reflect:null,v=h&&"function"===typeof h.apply?h.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};d=h&&"function"===typeof h.ownKeys?h.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var f=Number.isNaN||function(e){return e!==e};function p(){p.init.call(this)}l.exports=p,l.exports.once=function(e,t){return new Promise((function(r,i){function n(r){e.removeListener(t,o),i(r)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}b(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&b(e,"error",t,r)}(e,n,{once:!0})}))},p.EventEmitter=p,p.prototype._events=void 0,p.prototype._eventsCount=0,p.prototype._maxListeners=void 0;var y=10;function g(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function m(e){return void 0===e._maxListeners?p.defaultMaxListeners:e._maxListeners}function C(e,t,r,i){var n,o,s;if(g(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"===typeof s?s=o[t]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(n=m(e))>0&&s.length>n&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,console&&console.warn}return e}function D(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=D.bind(i);return n.listener=r,i.wrapFn=n,n}function _(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"===typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):S(n,n.length)}function E(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function S(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function b(e,t,r,i){if("function"===typeof e.on)i.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function n(o){i.once&&e.removeEventListener(t,n),r(o)}))}}Object.defineProperty(p,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(e){if("number"!==typeof e||e<0||f(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");y=e}}),p.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},p.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||f(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},p.prototype.getMaxListeners=function(){return m(this)},p.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=n[e];if(void 0===c)return!1;if("function"===typeof c)v(c,this,t);else{var a=c.length,u=S(c,a);for(r=0;r<a;++r)v(u[r],this,t)}return!0},p.prototype.addListener=function(e,t){return C(this,e,t,!1)},p.prototype.on=p.prototype.addListener,p.prototype.prependListener=function(e,t){return C(this,e,t,!0)},p.prototype.once=function(e,t){return g(t),this.on(e,w(this,e,t)),this},p.prototype.prependOnceListener=function(e,t){return g(t),this.prependListener(e,w(this,e,t)),this},p.prototype.removeListener=function(e,t){var r,i,n,o,s;if(g(t),void 0===(i=this._events))return this;if(void 0===(r=i[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},p.prototype.off=p.prototype.removeListener,p.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},p.prototype.listeners=function(e){return _(this,e,!0)},p.prototype.rawListeners=function(e){return _(this,e,!1)},p.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):E.call(e,t)},p.prototype.listenerCount=E,p.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]};const R=new l.exports,I=i.getLogger(i.LoggerNames.HdBleSdk);let F,U=i.parseConnectSettings(),L=0;const P={};function k(e){const{event:t}=e;if(F)switch(t!==i.LOG_EVENT&&I.debug("hd-ble-sdk handleMessage",e),t){case i.UI_EVENT:R.emit(e.event,e),R.emit(e.type,e.payload);break;case i.LOG_EVENT:case i.FIRMWARE_EVENT:R.emit(e.event,e);break;case i.DEVICE_EVENT:[i.DEVICE.CONNECT,i.DEVICE.DISCONNECT,i.DEVICE.FEATURES,i.DEVICE.SUPPORT_FEATURES].includes(e.type)&&R.emit(e.type,e.payload);break;default:I.log("No need to be captured message",e.event)}}function O(e,t=!0){return u(this,void 0,void 0,(function*(){if(!F)throw n.ERRORS.TypedError("postMessage: _core not found");if(t){L++,P[L]=n.createDeferred();return yield F.handleMessage(Object.assign(Object.assign({},e),{id:""+L}))}F.handleMessage(e)}))}const T=c.default({eventEmitter:R,init:e=>u(void 0,void 0,void 0,(function*(){U=Object.assign(Object.assign(Object.assign({},U),e),{env:"react-native"}),i.enableLog(!!e.debug),I.debug("init");try{return F=yield i.initCore(U,a.default),null===F||void 0===F||F.on(i.CORE_EVENT,k),i.setLoggerPostMessage(k),!0}catch(t){return I.error(i.createErrorMessage(t)),!1}})),call:e=>u(void 0,void 0,void 0,(function*(){var t,r,o;I.debug("call: ",e);try{const s=yield O({event:i.IFRAME.CALL,type:i.IFRAME.CALL,payload:e});return s?(I.debug("response: ",s),s.success||((null===(t=s.payload)||void 0===t?void 0:t.code)===n.HardwareErrorCode.BlePermissionError&&O(i.createUiMessage(i.UI_REQUEST.BLUETOOTH_PERMISSION),!1),(null===(r=s.payload)||void 0===r?void 0:r.code)===n.HardwareErrorCode.BleLocationError&&O(i.createUiMessage(i.UI_REQUEST.LOCATION_PERMISSION),!1),(null===(o=s.payload)||void 0===o?void 0:o.code)===n.HardwareErrorCode.BleLocationServicesDisabled&&O(i.createUiMessage(i.UI_REQUEST.LOCATION_SERVICE_PERMISSION),!1)),s):i.createErrorMessage(n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodNotResponse))}catch(s){return I.error("__call error: ",s),i.createErrorMessage(s)}})),cancel:e=>{void 0!==F&&F.handleMessage({event:i.IFRAME.CANCEL,type:i.IFRAME.CANCEL,payload:{connectId:e}})},dispose:()=>{R.removeAllListeners(),U=i.parseConnectSettings()},uiResponse:e=>{if(!F)throw n.ERRORS.TypedError(n.HardwareErrorCode.NotInitialized);const{type:t,payload:r}=e;F.handleMessage({event:i.UI_EVENT,type:t,payload:r})}});t.default=T,t.messagePromises=P},3908:function(e,t,r){"use strict";var i=r(60),n=r(30),o=r(3909),s=r(2384),c=r(2383),a=r(66),u=r(1629);function d(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var l=d(s),h=d(c),v=d(u);function f(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{a(i.next(e))}catch(t){o(t)}}function c(e){try{a(i.throw(e))}catch(t){o(t)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}a((i=i.apply(e,t||[])).next())}))}const p={timeout:(e,t)=>{const r=setTimeout(e,t);return()=>clearTimeout(r)}},y=(e,t=1e3)=>new Promise((r,i)=>{let n=!1;const o=e.onStateChange(e=>{if("PoweredOn"===e){if(n)return;s(),n=!0,o.remove(),r()}},!0),s=p.timeout(()=>{n||(o.remove(),i(a.ERRORS.TypedError(a.HardwareErrorCode.BlePermissionError)))},t)}),g={classic:{"00000001-0000-1000-8000-00805f9b34fb":{serviceUuid:"00000001-0000-1000-8000-00805f9b34fb",writeUuid:"00000002-0000-1000-8000-00805f9b34fb",notifyUuid:"00000003-0000-1000-8000-00805f9b34fb"}}},m=[];for(const F of Object.keys(g)){const e=g[F];m.push(...Object.keys(e))}const C=()=>m,D=(e,t)=>{const r=g[t];if(!r)return null;const i=r[e];return i||null};class w{constructor(e,t,r){this.mtuSize=20,this.id=e.id,this.device=e,this.writeCharacteristic=t,this.notifyCharacteristic=r}}const{check:_,buildBuffers:E,receiveOne:S,parseConfigure:b}=h.default,R={};let I={requestMTU:256,timeout:3e3};e.exports=class{constructor(e){var t;this.configured=!1,this.stopped=!1,this.scanTimeout=3e3,this.runPromise=null,this.scanTimeout=null!==(t=e.scanTimeout)&&void 0!==t?t:3e3}init(e,t){this.Log=e,this.emitter=t}configure(e){const t=b(e);this.configured=!0,this._messages=t}listen(){}getPlxManager(){return this.blePlxManager||(this.blePlxManager=new o.BleManager,v.default.start({showAlert:!1})),Promise.resolve(this.blePlxManager)}enumerate(){return f(this,void 0,void 0,(function*(){return new Promise((e,t)=>f(this,void 0,void 0,(function*(){const r=[],i=yield this.getPlxManager();try{yield y(i)}catch(c){return this.Log.debug("subscribeBleOn error: ",c),void t(c)}var n;i.startDeviceScan(null,{scanMode:o.ScanMode.LowLatency},(e,r)=>{var n,c;if(e)return this.Log.debug("ble scan manager: ",i),this.Log.debug("ble scan error: ",e),void([o.BleErrorCode.BluetoothPoweredOff,o.BleErrorCode.BluetoothInUnknownState].includes(e.errorCode)?t(a.ERRORS.TypedError(a.HardwareErrorCode.BlePermissionError)):e.errorCode===o.BleErrorCode.BluetoothUnauthorized?t(a.ERRORS.TypedError(a.HardwareErrorCode.BleLocationError)):e.errorCode===o.BleErrorCode.LocationServicesDisabled?t(a.ERRORS.TypedError(a.HardwareErrorCode.BleLocationServicesDisabled)):e.errorCode===o.BleErrorCode.ScanStartFailed?p.timeout(()=>{},this.scanTimeout):t(a.ERRORS.TypedError(a.HardwareErrorCode.BleScanError,null!==(n=e.reason)&&void 0!==n?n:"")));if(((e,t)=>{var r;if(null===(r=null===t||void 0===t?void 0:t.startsWith)||void 0===r?void 0:r.call(t,"MI"))return!0;return!(!e||!/(BixinKey\d{10})|(K\d{4})|(T\d{4})/i.exec(e))})(null!==(c=null===r||void 0===r?void 0:r.name)&&void 0!==c?c:null,null===r||void 0===r?void 0:r.id)){this.Log.debug("search device start ======================");const{name:e,localName:t,id:i}=null!==r&&void 0!==r?r:{};this.Log.debug(`device name: ${null!==e&&void 0!==e?e:""}\nlocalName: ${null!==t&&void 0!==t?t:""}\nid: ${null!==i&&void 0!==i?i:""}`),s(r),this.Log.debug("search device end ======================\n")}}),(n=C(),f(void 0,void 0,void 0,(function*(){return(yield v.default.getConnectedPeripherals(n)).map(e=>{const{id:t,name:r,advertising:i={}}=e;return Object.assign({id:t,name:r},i)})}))).then(e=>{for(const t of e)this.Log.debug("search connected peripheral: ",t.id),s(t)});const s=e=>{r.every(t=>t.id!==e.id)&&r.push(e)};p.timeout(()=>{i.stopDeviceScan(),e(r)},this.scanTimeout)})))}))}acquire(e){var t,r,n;return f(this,void 0,void 0,(function*(){const{uuid:s}=e;if(!s)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleRequiredUUID);let c=null;R[s]&&(this.Log.debug("transport not be released, will release: ",s),yield this.release(s));const u=yield this.getPlxManager();try{yield y(u)}catch(b){throw this.Log.debug("subscribeBleOn error: ",b),b}if(!c){const e=yield u.devices([s]);[c]=e}if(!c){const e=(yield u.connectedDevices(C())).filter(e=>e.id===s);this.Log.debug("found connected device count: "+e.length),[c]=e}if(!c){this.Log.debug("try to connect to device: ",s);try{c=yield u.connectToDevice(s,I)}catch(F){if(this.Log.debug("try to connect to device has error: ",F),F.errorCode!==o.BleErrorCode.DeviceMTUChangeFailed&&F.errorCode!==o.BleErrorCode.OperationCancelled)throw F.errorCode===o.BleErrorCode.DeviceAlreadyConnected?(this.Log.debug("device already connected"),a.ERRORS.TypedError(a.HardwareErrorCode.BleAlreadyConnected)):a.ERRORS.TypedError(a.HardwareErrorCode.BleConnectedError,null!==(t=F.reason)&&void 0!==t?t:F);I={},this.Log.debug("first try to reconnect without params"),c=yield u.connectToDevice(s)}}if(!c)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleConnectedError,"unable to connect to device");if(!(yield c.isConnected())){this.Log.debug("not connected, try to connect to device: ",s);try{yield c.connect(I)}catch(F){if(this.Log.debug("not connected, try to connect to device has error: ",F),F.errorCode!==o.BleErrorCode.DeviceMTUChangeFailed&&F.errorCode!==o.BleErrorCode.OperationCancelled)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleConnectedError,null!==(r=F.reason)&&void 0!==r?r:F);I={},this.Log.debug("second try to reconnect without params");try{yield c.connect()}catch(F){this.Log.debug("last try to reconnect error: ",F),F.errorCode===o.BleErrorCode.OperationCancelled&&(this.Log.debug("last try to reconnect"),yield c.cancelConnection(),yield c.connect())}}}if("android"===i.Platform.OS){if(!!!(yield f(void 0,void 0,void 0,(function*(){return(yield v.default.getBondedPeripherals()).map(e=>{const{id:t,name:r,advertising:i={}}=e;return Object.assign({id:t,name:r},i)})}))).find(e=>e.id===(null===c||void 0===c?void 0:c.id)))throw a.ERRORS.TypedError(a.HardwareErrorCode.BleDeviceNotBonded,"device is not bonded")}yield c.discoverAllServicesAndCharacteristics();let d,l=(e=>{if(!e||!e.serviceUUIDs)return null;const[t]=e.serviceUUIDs,r=D(t,"classic");return r||null})(c);if(!l)for(const e of C())try{d=yield c.characteristicsForService(e),l=D(e,"classic");break}catch(F){this.Log.error(F)}if(!l){try{this.Log.debug("cancel connection when service not found"),yield c.cancelConnection()}catch(F){this.Log.debug("cancel connection error when service not found: ",F.message||F.reason)}throw a.ERRORS.TypedError(a.HardwareErrorCode.BleServiceNotFound)}const{serviceUuid:h,writeUuid:p,notifyUuid:g}=l;if(d||(d=yield c.characteristicsForService(h)),!d)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleCharacteristicNotFound);let m,_;for(const e of d)e.uuid===p?m=e:e.uuid===g&&(_=e);if(!m)throw a.ERRORS.TypedError("BLECharacteristicNotFound: write characteristic not found");if(!_)throw a.ERRORS.TypedError("BLECharacteristicNotFound: notify characteristic not found");if(!m.isWritableWithResponse)throw a.ERRORS.TypedError("BLECharacteristicNotWritable: write characteristic not writable");if(!_.isNotifiable)throw a.ERRORS.TypedError("BLECharacteristicNotNotifiable: notify characteristic not notifiable");const E=new w(c,m,_);E.nofitySubscription=this._monitorCharacteristic(E.notifyCharacteristic),R[s]=E,null===(n=this.emitter)||void 0===n||n.emit("device-connect",{name:c.name,id:c.id,connectId:c.id});const S=c.onDisconnected(()=>{var e;this.Log.debug("device disconnect: ",null===c||void 0===c?void 0:c.id),null===(e=this.emitter)||void 0===e||e.emit("device-disconnect",{name:null===c||void 0===c?void 0:c.name,id:null===c||void 0===c?void 0:c.id,connectId:null===c||void 0===c?void 0:c.id}),this.release(s),null===S||void 0===S||S.remove()});return{uuid:s}}))}_monitorCharacteristic(e){let t=0,r=[];const i=e.monitor((i,o)=>{var s,u,d;if(i)return this.Log.debug(`error monitor ${e.uuid}, deviceId: ${e.deviceID}: ${i}`),void(this.runPromise&&(this.runPromise.reject(a.ERRORS.TypedError(a.HardwareErrorCode.BleCharacteristicNotifyError,null!==(s=i.reason)&&void 0!==s?s:i.message)),this.Log.debug(": monitor notify error, and has unreleased Promise")));if(!o)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleMonitorError);try{const e=n.Buffer.from(o.value,"base64");if((e=>{if(e.length<9)return!1;const[t,r,i]=e;return String.fromCharCode(t)===String.fromCharCode(c.MESSAGE_TOP_CHAR)&&String.fromCharCode(r)===String.fromCharCode(c.MESSAGE_HEADER_BYTE)&&String.fromCharCode(i)===String.fromCharCode(c.MESSAGE_HEADER_BYTE)})(e)?(t=e.readInt32BE(5),r=[...e.subarray(3)]):r=r.concat([...e]),r.length-c.COMMON_HEADER_SIZE>=t){const e=n.Buffer.from(r);t=0,r=[],null===(u=this.runPromise)||void 0===u||u.resolve(e.toString("hex"))}}catch(i){this.Log.debug("monitor data error: ",i),null===(d=this.runPromise)||void 0===d||d.reject(i)}});return()=>{this.Log.debug("remove characteristic monitor: ",e.uuid),i.remove()}}release(e){var t;return f(this,void 0,void 0,(function*(){const r=R[e];return r&&(delete R[e],null===(t=r.nofitySubscription)||void 0===t||t.call(r),i.Platform.OS),Promise.resolve(!0)}))}call(e,t,r){return f(this,void 0,void 0,(function*(){if(this.stopped)return Promise.reject(a.ERRORS.TypedError("Transport stopped."));if(null==this._messages)throw a.ERRORS.TypedError(a.HardwareErrorCode.TransportNotConfigured);if(this.runPromise)throw a.ERRORS.TypedError(a.HardwareErrorCode.TransportCallInProgress);const n=R[e];if(!n)throw a.ERRORS.TypedError(a.HardwareErrorCode.TransportNotFound);this.runPromise=a.createDeferred();const s=this._messages;this.Log.debug("transport-react-native","call-"," name: ",t," data: ",r);const c=E(s,t,r);if("FirmwareUpload"===t){const e="ios"===i.Platform.OS?128:192;let t=0,r=l.default.allocate(e);for(;t<c.length;){const i=c[t].toBuffer();if(r.append(i),t+=1,r.offset===e||t>=c.length){r.reset();try{yield n.writeCharacteristic.writeWithoutResponse(r.toString("base64")),r=l.default.allocate(e)}catch(u){return this.runPromise=null,void this.Log.error("writeCharacteristic write error: ",u)}}}}else for(const e of c){const t=e.toString("base64");this.Log.debug("send hex strting: ",e.toString("hex"));try{yield n.writeCharacteristic.writeWithoutResponse(t)}catch(u){if(this.Log.debug("writeCharacteristic write error: ",u),this.runPromise=null,u.errorCode===o.BleErrorCode.DeviceDisconnected)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleDeviceNotBonded);if(u.errorCode===o.BleErrorCode.OperationStartFailed)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleWriteCharacteristicError,u.reason);return}}try{const e=yield this.runPromise.promise;if("string"!==typeof e)throw new Error("Returning data is not string.");this.Log.debug("receive data: ",e);const t=S(s,e);return _.call(t)}catch(u){throw this.Log.error("call error: ",u),u}finally{this.runPromise=null}}))}stop(){this.stopped=!0}cancel(){this.Log.debug("transport-react-native canceled"),this.runPromise,this.runPromise=null}}},3909:function(e,t,r){"use strict";r.r(t),r.d(t,"BleError",(function(){return g})),r.d(t,"BleErrorCode",(function(){return C})),r.d(t,"BleAndroidErrorCode",(function(){return E})),r.d(t,"BleIOSErrorCode",(function(){return _})),r.d(t,"BleATTErrorCode",(function(){return w})),r.d(t,"BleManager",(function(){return W})),r.d(t,"Device",(function(){return O})),r.d(t,"Service",(function(){return T})),r.d(t,"Characteristic",(function(){return M})),r.d(t,"Descriptor",(function(){return B})),r.d(t,"fullUUID",(function(){return p})),r.d(t,"State",(function(){return L})),r.d(t,"LogLevel",(function(){return P})),r.d(t,"ConnectionPriority",(function(){return k})),r.d(t,"ScanCallbackType",(function(){return U})),r.d(t,"ScanMode",(function(){return F}));var i,n=r(3),o=r.n(n),s=r(7),c=r.n(s),a=r(9),u=r.n(a),d=r(13),l=r.n(d),h=r(6),v=r.n(h),f=r(491);function p(e){return 4===e.length?"0000"+e.toLowerCase()+"-0000-1000-8000-00805f9b34fb":8===e.length?e.toLowerCase()+"-0000-1000-8000-00805f9b34fb":e.toLowerCase()}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=v()(e);if(t){var n=v()(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return l()(this,r)}}let g=function(e){u()(r,e);var t=y(r);function r(e,i){var n,o;if(c()(this,r),(n=t.call(this)).message=i[C.UnknownError],"string"===typeof e)n.errorCode=C.UnknownError,n.attErrorCode=null,n.iosErrorCode=null,n.androidErrorCode=null,n.reason=e;else{const t=i[e.errorCode];t&&(n.message=(o=e,t.replace(/\{([^}]+)\}/g,(function(e,t){return o[t]||"?"})))),n.errorCode=e.errorCode,n.attErrorCode=e.attErrorCode,n.iosErrorCode=e.iosErrorCode,n.androidErrorCode=e.androidErrorCode,n.reason=e.reason}return n.name="BleError",n}return r}(r.n(f)()(Error));function m(e,t){let r;const i=t||D;try{const t=JSON.parse(e);r=new g(t,i)}catch(n){r=new g(e,i)}return r}const C={UnknownError:0,BluetoothManagerDestroyed:1,OperationCancelled:2,OperationTimedOut:3,OperationStartFailed:4,InvalidIdentifiers:5,BluetoothUnsupported:100,BluetoothUnauthorized:101,BluetoothPoweredOff:102,BluetoothInUnknownState:103,BluetoothResetting:104,BluetoothStateChangeFailed:105,DeviceConnectionFailed:200,DeviceDisconnected:201,DeviceRSSIReadFailed:202,DeviceAlreadyConnected:203,DeviceNotFound:204,DeviceNotConnected:205,DeviceMTUChangeFailed:206,ServicesDiscoveryFailed:300,IncludedServicesDiscoveryFailed:301,ServiceNotFound:302,ServicesNotDiscovered:303,CharacteristicsDiscoveryFailed:400,CharacteristicWriteFailed:401,CharacteristicReadFailed:402,CharacteristicNotifyChangeFailed:403,CharacteristicNotFound:404,CharacteristicsNotDiscovered:405,CharacteristicInvalidDataFormat:406,DescriptorsDiscoveryFailed:500,DescriptorWriteFailed:501,DescriptorReadFailed:502,DescriptorNotFound:503,DescriptorsNotDiscovered:504,DescriptorInvalidDataFormat:505,DescriptorWriteNotAllowed:506,ScanStartFailed:600,LocationServicesDisabled:601},D=(i={},o()(i,C.UnknownError,"Unknown error occurred. This is probably a bug! Check reason property."),o()(i,C.BluetoothManagerDestroyed,"BleManager was destroyed"),o()(i,C.OperationCancelled,"Operation was cancelled"),o()(i,C.OperationTimedOut,"Operation timed out"),o()(i,C.OperationStartFailed,"Operation was rejected"),o()(i,C.InvalidIdentifiers,"Invalid UUIDs or IDs were passed: {internalMessage}"),o()(i,C.BluetoothUnsupported,"BluetoothLE is unsupported on this device"),o()(i,C.BluetoothUnauthorized,"Device is not authorized to use BluetoothLE"),o()(i,C.BluetoothPoweredOff,"BluetoothLE is powered off"),o()(i,C.BluetoothInUnknownState,"BluetoothLE is in unknown state"),o()(i,C.BluetoothResetting,"BluetoothLE is resetting"),o()(i,C.BluetoothStateChangeFailed,"Bluetooth state change failed"),o()(i,C.DeviceConnectionFailed,"Device {deviceID} connection failed"),o()(i,C.DeviceDisconnected,"Device {deviceID} was disconnected"),o()(i,C.DeviceRSSIReadFailed,"RSSI read failed for device {deviceID}"),o()(i,C.DeviceAlreadyConnected,"Device {deviceID} is already connected"),o()(i,C.DeviceNotFound,"Device {deviceID} not found"),o()(i,C.DeviceNotConnected,"Device {deviceID} is not connected"),o()(i,C.DeviceMTUChangeFailed,"Device {deviceID} could not change MTU size"),o()(i,C.ServicesDiscoveryFailed,"Services discovery failed for device {deviceID}"),o()(i,C.IncludedServicesDiscoveryFailed,"Included services discovery failed for device {deviceID} and service: {serviceUUID}"),o()(i,C.ServiceNotFound,"Service {serviceUUID} for device {deviceID} not found"),o()(i,C.ServicesNotDiscovered,"Services not discovered for device {deviceID}"),o()(i,C.CharacteristicsDiscoveryFailed,"Characteristic discovery failed for device {deviceID} and service {serviceUUID}"),o()(i,C.CharacteristicWriteFailed,"Characteristic {characteristicUUID} write failed for device {deviceID} and service {serviceUUID}"),o()(i,C.CharacteristicReadFailed,"Characteristic {characteristicUUID} read failed for device {deviceID} and service {serviceUUID}"),o()(i,C.CharacteristicNotifyChangeFailed,"Characteristic {characteristicUUID} notify change failed for device {deviceID} and service {serviceUUID}"),o()(i,C.CharacteristicNotFound,"Characteristic {characteristicUUID} not found"),o()(i,C.CharacteristicsNotDiscovered,"Characteristics not discovered for device {deviceID} and service {serviceUUID}"),o()(i,C.CharacteristicInvalidDataFormat,"Cannot write to characteristic {characteristicUUID} with invalid data format: {internalMessage}"),o()(i,C.DescriptorsDiscoveryFailed,"Descriptor {descriptorUUID} discovery failed for device {deviceID}, service {serviceUUID} and characteristic {characteristicUUID}"),o()(i,C.DescriptorWriteFailed,"Descriptor {descriptorUUID} write failed for device {deviceID}, service {serviceUUID} and characteristic {characteristicUUID}"),o()(i,C.DescriptorReadFailed,"Descriptor {descriptorUUID} read failed for device {deviceID}, service {serviceUUID} and characteristic {characteristicUUID}"),o()(i,C.DescriptorNotFound,"Descriptor {descriptorUUID} not found"),o()(i,C.DescriptorsNotDiscovered,"Descriptors not discovered for device {deviceID}, service {serviceUUID} and characteristic {characteristicUUID}"),o()(i,C.DescriptorInvalidDataFormat,"Cannot write to descriptor {descriptorUUID} with invalid data format: {internalMessage}"),o()(i,C.DescriptorWriteNotAllowed,"Cannot write to descriptor {descriptorUUID}. It's not allowed by iOS and therefore forbidden on Android as well."),o()(i,C.ScanStartFailed,"Cannot start scanning operation"),o()(i,C.LocationServicesDisabled,"Location services are disabled"),i),w={Success:0,InvalidHandle:1,ReadNotPermitted:2,WriteNotPermitted:3,InvalidPdu:4,InsufficientAuthentication:5,RequestNotSupported:6,InvalidOffset:7,InsufficientAuthorization:8,PrepareQueueFull:9,AttributeNotFound:10,AttributeNotLong:11,InsufficientEncryptionKeySize:12,InvalidAttributeValueLength:13,UnlikelyError:14,InsufficientEncryption:15,UnsupportedGroupType:16,InsufficientResources:17},_={Unknown:0,InvalidParameters:1,InvalidHandle:2,NotConnected:3,OutOfSpace:4,OperationCancelled:5,ConnectionTimeout:6,PeripheralDisconnected:7,UuidNotAllowed:8,AlreadyAdvertising:9,ConnectionFailed:10,ConnectionLimitReached:11,UnknownDevice:12},E={NoResources:128,InternalError:129,WrongState:130,DbFull:131,Busy:132,Error:133,CmdStarted:134,IllegalParameter:135,Pending:136,AuthFail:137,More:138,InvalidCfg:139,ServiceStarted:140,EncrypedNoMitm:141,NotEncrypted:142,Congested:143};var S=r(5),b=r.n(S),R=r(8),I=r.n(R);const F={Opportunistic:-1,LowPower:0,Balanced:1,LowLatency:2},U={AllMatches:1,FirstMatch:2,MatchLost:4},L={Unknown:"Unknown",Resetting:"Resetting",Unsupported:"Unsupported",Unauthorized:"Unauthorized",PoweredOff:"PoweredOff",PoweredOn:"PoweredOn"},P={None:"None",Verbose:"Verbose",Debug:"Debug",Info:"Info",Warning:"Warning",Error:"Error"},k={Balanced:0,High:1,LowPower:2};let O=function(){function e(t,r){c()(this,e),Object.assign(this,t,{_manager:r})}return I()(e,[{key:"requestConnectionPriority",value:function(e,t){return this._manager.requestConnectionPriorityForDevice(this.id,e,t)}},{key:"readRSSI",value:function(e){return this._manager.readRSSIForDevice(this.id,e)}},{key:"requestMTU",value:function(e,t){return this._manager.requestMTUForDevice(this.id,e,t)}},{key:"connect",value:function(e){return this._manager.connectToDevice(this.id,e)}},{key:"cancelConnection",value:function(){return this._manager.cancelDeviceConnection(this.id)}},{key:"isConnected",value:function(){return this._manager.isDeviceConnected(this.id)}},{key:"onDisconnected",value:function(e){return this._manager.onDeviceDisconnected(this.id,e)}},{key:"discoverAllServicesAndCharacteristics",value:function(e){return this._manager.discoverAllServicesAndCharacteristicsForDevice(this.id,e)}},{key:"services",value:function(){return this._manager.servicesForDevice(this.id)}},{key:"characteristicsForService",value:function(e){return this._manager.characteristicsForDevice(this.id,e)}},{key:"descriptorsForService",value:function(e,t){return this._manager.descriptorsForDevice(this.id,e,t)}},{key:"readCharacteristicForService",value:function(e,t,r){return this._manager.readCharacteristicForDevice(this.id,e,t,r)}},{key:"writeCharacteristicWithResponseForService",value:function(e,t,r,i){return this._manager.writeCharacteristicWithResponseForDevice(this.id,e,t,r,i)}},{key:"writeCharacteristicWithoutResponseForService",value:function(e,t,r,i){return this._manager.writeCharacteristicWithoutResponseForDevice(this.id,e,t,r,i)}},{key:"monitorCharacteristicForService",value:function(e,t,r,i){return this._manager.monitorCharacteristicForDevice(this.id,e,t,r,i)}},{key:"readDescriptorForService",value:async function(e,t,r,i){return this._manager.readDescriptorForDevice(this.id,e,t,r,i)}},{key:"writeDescriptorForService",value:async function(e,t,r,i,n){return this._manager.writeDescriptorForDevice(this.id,e,t,r,i,n)}}]),e}(),T=function(){function e(t,r){c()(this,e),Object.assign(this,t,{_manager:r})}return I()(e,[{key:"characteristics",value:function(){return this._manager._characteristicsForService(this.id)}},{key:"descriptorsForCharacteristic",value:function(e){return this._manager._descriptorsForService(this.id,e)}},{key:"readCharacteristic",value:function(e,t){return this._manager._readCharacteristicForService(this.id,e,t)}},{key:"writeCharacteristicWithResponse",value:function(e,t,r){return this._manager._writeCharacteristicWithResponseForService(this.id,e,t,r)}},{key:"writeCharacteristicWithoutResponse",value:function(e,t,r){return this._manager._writeCharacteristicWithoutResponseForService(this.id,e,t,r)}},{key:"monitorCharacteristic",value:function(e,t,r){return this._manager._monitorCharacteristicForService(this.id,e,t,r)}},{key:"readDescriptorForCharacteristic",value:async function(e,t,r){return this._manager._readDescriptorForService(this.id,e,t,r)}},{key:"writeDescriptorForCharacteristic",value:async function(e,t,r,i){return this._manager._writeDescriptorForService(this.id,e,t,r,i)}}]),e}(),B=function(){function e(t,r){c()(this,e),Object.assign(this,t,{_manager:r})}return I()(e,[{key:"read",value:async function(e){return this._manager._readDescriptor(this.id,e)}},{key:"write",value:async function(e,t){return this._manager._writeDescriptor(this.id,e,t)}}]),e}(),M=function(){function e(t,r){c()(this,e),Object.assign(this,t,{_manager:r})}return I()(e,[{key:"descriptors",value:function(){return this._manager._descriptorsForCharacteristic(this.id)}},{key:"read",value:function(e){return this._manager._readCharacteristic(this.id,e)}},{key:"writeWithResponse",value:function(e,t){return this._manager._writeCharacteristicWithResponse(this.id,e,t)}},{key:"writeWithoutResponse",value:function(e,t){return this._manager._writeCharacteristicWithoutResponse(this.id,e,t)}},{key:"monitor",value:function(e,t){return this._manager._monitorCharacteristic(this.id,e,t)}},{key:"readDescriptor",value:async function(e,t){return this._manager._readDescriptorForCharacteristic(this.id,e,t)}},{key:"writeDescriptor",value:async function(e,t,r){return this._manager._writeDescriptorForCharacteristic(this.id,e,t,r)}}]),e}();var N=r(200),x=r(457);const A=N.a.BleClientManager,q=x.a;let W=function(){function e(){var t=this;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c()(this,e),this._eventEmitter=new q(A),this._uniqueId=0,this._activePromises={},this._activeSubscriptions={};const i=r.restoreStateFunction;null!=i&&null!=r.restoreStateIdentifier&&(this._activeSubscriptions[this._nextUniqueID()]=this._eventEmitter.addListener(A.RestoreStateEvent,(function(e){i(null!=e?{connectedPeripherals:e.connectedPeripherals.map((function(e){return new O(e,t)}))}:null)}))),this._errorCodesToMessagesMapping=r.errorCodesToMessagesMapping?r.errorCodesToMessagesMapping:D,A.createClient(r.restoreStateIdentifier||null)}return I()(e,[{key:"_destroyPromises",value:function(){const e=new g({errorCode:C.BluetoothManagerDestroyed,attErrorCode:null,iosErrorCode:null,androidErrorCode:null,reason:null},this._errorCodesToMessagesMapping);for(const t in this._activePromises)this._activePromises[t](e)}},{key:"_destroySubscriptions",value:function(){for(const e in this._activeSubscriptions)this._activeSubscriptions[e].remove()}},{key:"destroy",value:function(){A.destroyClient(),null!=this._scanEventSubscription&&(this._scanEventSubscription.remove(),this._scanEventSubscription=null),this._destroySubscriptions(),this._destroyPromises()}},{key:"_nextUniqueID",value:function(){return this._uniqueId+=1,this._uniqueId.toString()}},{key:"_callPromise",value:async function(e){var t=this;const r=this._nextUniqueID();try{const i=new Promise((function(e,i){t._activePromises[r]=i})),n=await Promise.race([i,e]);return delete this._activePromises[r],n}catch(i){throw delete this._activePromises[r],m(i.message,this._errorCodesToMessagesMapping)}}},{key:"setLogLevel",value:function(e){A.setLogLevel(e)}},{key:"logLevel",value:function(){return this._callPromise(A.logLevel())}},{key:"cancelTransaction",value:function(e){A.cancelTransaction(e)}},{key:"enable",value:async function(e){return e||(e=this._nextUniqueID()),await this._callPromise(A.enable(e)),this}},{key:"disable",value:async function(e){return e||(e=this._nextUniqueID()),await this._callPromise(A.disable(e)),this}},{key:"state",value:function(){return this._callPromise(A.state())}},{key:"onStateChange",value:function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this._eventEmitter.addListener(A.StateChangeEvent,e),n=this._nextUniqueID();var o;if(r){var s=!1;this._callPromise(this.state()).then((function(t){s||e(t)})),o={remove:function(){null!=t._activeSubscriptions[n]&&(s=!0,delete t._activeSubscriptions[n],i.remove())}}}else o={remove:function(){null!=t._activeSubscriptions[n]&&(delete t._activeSubscriptions[n],i.remove())}};return this._activeSubscriptions[n]=o,o}},{key:"startDeviceScan",value:function(e,t,r){var i=this;this.stopDeviceScan();this._scanEventSubscription=this._eventEmitter.addListener(A.ScanEvent,(function(e){let t=b()(e,2),n=t[0],o=t[1];r(n?m(n,i._errorCodesToMessagesMapping):null,o?new O(o,i):null)})),A.startDeviceScan(e,t)}},{key:"stopDeviceScan",value:function(){null!=this._scanEventSubscription&&(this._scanEventSubscription.remove(),this._scanEventSubscription=null),A.stopDeviceScan()}},{key:"requestConnectionPriorityForDevice",value:async function(e,t,r){r||(r=this._nextUniqueID());const i=await this._callPromise(A.requestConnectionPriorityForDevice(e,t,r));return new O(i,this)}},{key:"readRSSIForDevice",value:async function(e,t){t||(t=this._nextUniqueID());const r=await this._callPromise(A.readRSSIForDevice(e,t));return new O(r,this)}},{key:"requestMTUForDevice",value:async function(e,t,r){r||(r=this._nextUniqueID());const i=await this._callPromise(A.requestMTUForDevice(e,t,r));return new O(i,this)}},{key:"devices",value:async function(e){var t=this;return(await this._callPromise(A.devices(e))).map((function(e){return new O(e,t)}))}},{key:"connectedDevices",value:async function(e){var t=this;return(await this._callPromise(A.connectedDevices(e))).map((function(e){return new O(e,t)}))}},{key:"connectToDevice",value:async function(e,t){const r=await this._callPromise(A.connectToDevice(e,t));return new O(r,this)}},{key:"cancelDeviceConnection",value:async function(e){const t=await this._callPromise(A.cancelDeviceConnection(e));return new O(t,this)}},{key:"onDeviceDisconnected",value:function(e,t){var r=this;const i=this._eventEmitter.addListener(A.DisconnectionEvent,(function(i){let n=b()(i,2),o=n[0],s=n[1];e===s.id&&t(o?m(o,r._errorCodesToMessagesMapping):null,new O(s,r))})),n=this._nextUniqueID(),o={remove:function(){null!=r._activeSubscriptions[n]&&(delete r._activeSubscriptions[n],i.remove())}};return this._activeSubscriptions[n]=o,o}},{key:"isDeviceConnected",value:function(e){return this._callPromise(A.isDeviceConnected(e))}},{key:"discoverAllServicesAndCharacteristicsForDevice",value:async function(e,t){t||(t=this._nextUniqueID());const r=await this._callPromise(A.discoverAllServicesAndCharacteristicsForDevice(e,t));return new O(r,this)}},{key:"servicesForDevice",value:async function(e){var t=this;return(await this._callPromise(A.servicesForDevice(e))).map((function(e){return new T(e,t)}))}},{key:"characteristicsForDevice",value:function(e,t){return this._handleCharacteristics(A.characteristicsForDevice(e,t))}},{key:"_characteristicsForService",value:function(e){return this._handleCharacteristics(A.characteristicsForService(e))}},{key:"_handleCharacteristics",value:async function(e){var t=this;return(await this._callPromise(e)).map((function(e){return new M(e,t)}))}},{key:"descriptorsForDevice",value:function(e,t,r){return this._handleDescriptors(A.descriptorsForDevice(e,t,r))}},{key:"_descriptorsForService",value:function(e,t){return this._handleDescriptors(A.descriptorsForService(e,t))}},{key:"_descriptorsForCharacteristic",value:function(e){return this._handleDescriptors(A.descriptorsForCharacteristic(e))}},{key:"_handleDescriptors",value:async function(e){var t=this;return(await this._callPromise(e)).map((function(e){return new B(e,t)}))}},{key:"readCharacteristicForDevice",value:async function(e,t,r,i){i||(i=this._nextUniqueID());const n=await this._callPromise(A.readCharacteristicForDevice(e,t,r,i));return new M(n,this)}},{key:"_readCharacteristicForService",value:async function(e,t,r){r||(r=this._nextUniqueID());const i=await this._callPromise(A.readCharacteristicForService(e,t,r));return new M(i,this)}},{key:"_readCharacteristic",value:async function(e,t){t||(t=this._nextUniqueID());const r=await this._callPromise(A.readCharacteristic(e,t));return new M(r,this)}},{key:"writeCharacteristicWithResponseForDevice",value:async function(e,t,r,i,n){n||(n=this._nextUniqueID());const o=await this._callPromise(A.writeCharacteristicForDevice(e,t,r,i,!0,n));return new M(o,this)}},{key:"_writeCharacteristicWithResponseForService",value:async function(e,t,r,i){i||(i=this._nextUniqueID());const n=await this._callPromise(A.writeCharacteristicForService(e,t,r,!0,i));return new M(n,this)}},{key:"_writeCharacteristicWithResponse",value:async function(e,t,r){r||(r=this._nextUniqueID());const i=await this._callPromise(A.writeCharacteristic(e,t,!0,r));return new M(i,this)}},{key:"writeCharacteristicWithoutResponseForDevice",value:async function(e,t,r,i,n){n||(n=this._nextUniqueID());const o=await this._callPromise(A.writeCharacteristicForDevice(e,t,r,i,!1,n));return new M(o,this)}},{key:"_writeCharacteristicWithoutResponseForService",value:async function(e,t,r,i){i||(i=this._nextUniqueID());const n=await this._callPromise(A.writeCharacteristicForService(e,t,r,!1,i));return new M(n,this)}},{key:"_writeCharacteristicWithoutResponse",value:async function(e,t,r){r||(r=this._nextUniqueID());const i=await this._callPromise(A.writeCharacteristic(e,t,!1,r));return new M(i,this)}},{key:"monitorCharacteristicForDevice",value:function(e,t,r,i,n){const o=n||this._nextUniqueID();return this._handleMonitorCharacteristic(A.monitorCharacteristicForDevice(e,t,r,o),o,i)}},{key:"_monitorCharacteristicForService",value:function(e,t,r,i){const n=i||this._nextUniqueID();return this._handleMonitorCharacteristic(A.monitorCharacteristicForService(e,t,n),n,r)}},{key:"_monitorCharacteristic",value:function(e,t,r){const i=r||this._nextUniqueID();return this._handleMonitorCharacteristic(A.monitorCharacteristic(e,i),i,t)}},{key:"_handleMonitorCharacteristic",value:function(e,t,r){var i=this;const n=this._eventEmitter.addListener(A.ReadEvent,(function(e){let n=b()(e,3),o=n[0],s=n[1],c=n[2];t===c&&(o?r(m(o,i._errorCodesToMessagesMapping),null):r(null,new M(s,i)))})),o=this._nextUniqueID(),s={remove:function(){null!=i._activeSubscriptions[o]&&(delete i._activeSubscriptions[o],n.remove())}};return this._activeSubscriptions[o]=s,this._callPromise(e).then((function(){s.remove()}),(function(e){r(e,null),s.remove()})),{remove:function(){A.cancelTransaction(t)}}}},{key:"readDescriptorForDevice",value:async function(e,t,r,i,n){n||(n=this._nextUniqueID());const o=await this._callPromise(A.readDescriptorForDevice(e,t,r,i,n));return new B(o,this)}},{key:"_readDescriptorForService",value:async function(e,t,r,i){i||(i=this._nextUniqueID());const n=await this._callPromise(A.readDescriptorForService(e,t,r,i));return new B(n,this)}},{key:"_readDescriptorForCharacteristic",value:async function(e,t,r){r||(r=this._nextUniqueID());const i=await this._callPromise(A.readDescriptorForCharacteristic(e,t,r));return new B(i,this)}},{key:"_readDescriptor",value:async function(e,t){t||(t=this._nextUniqueID());const r=await this._callPromise(A.readDescriptor(e,t));return new B(r,this)}},{key:"writeDescriptorForDevice",value:async function(e,t,r,i,n,o){o||(o=this._nextUniqueID());const s=await this._callPromise(A.writeDescriptorForDevice(e,t,r,i,n,o));return new B(s,this)}},{key:"_writeDescriptorForService",value:async function(e,t,r,i,n){n||(n=this._nextUniqueID());const o=await this._callPromise(A.writeDescriptorForService(e,t,r,i,n));return new B(o,this)}},{key:"_writeDescriptorForCharacteristic",value:async function(e,t,r,i){i||(i=this._nextUniqueID());const n=await this._callPromise(A.writeDescriptorForCharacteristic(e,t,r,i));return new B(n,this)}},{key:"_writeDescriptor",value:async function(e,t,r){r||(r=this._nextUniqueID());const i=await this._callPromise(A.writeDescriptor(e,t,r));return new B(i,this)}}]),e}()}}]);